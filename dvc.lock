schema: '2.0'
stages:
  data_ingestion:
    cmd: python -m src.data.data_ingestion
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 59b856ad2413a40c13ad13fa8cfb0e95
      size: 6364
    params:
      params.yaml:
        data.dataset_name: 
          birdy654/cifake-real-and-ai-generated-synthetic-images
        data.raw_dir: data/raw
    outs:
    - path: data/raw
      hash: md5
      md5: 368eb180912a1a0a8a728661e983a66a.dir
      size: 110717853
      nfiles: 120000
  data_preprocessing:
    cmd: python -m src.data.data_preprocessing
    deps:
    - path: data/raw
      hash: md5
      md5: 368eb180912a1a0a8a728661e983a66a.dir
      size: 110717853
      nfiles: 120000
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 0262ab179cd4964380da4bcc96ccfc90
      size: 8958
    params:
      params.yaml:
        preprocessing.image_size: 128
        preprocessing.random_state: 42
        preprocessing.sample_size: 10000
        preprocessing.validation_split: 0.2
    outs:
    - path: data/processed
      hash: md5
      md5: 5c0913be4e9012dab5e51a60d77254c4.dir
      size: 3932240768
      nfiles: 6
  feature_engineering:
    cmd: python -m src.features.feature_engineering
    deps:
    - path: data/processed
      hash: md5
      md5: 5c0913be4e9012dab5e51a60d77254c4.dir
      size: 3932240768
      nfiles: 6
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 3eb7503fc78247e103bd756e46244041
      size: 12769
    params:
      params.yaml:
        augmentation:
          rotation_range: 20
          width_shift_range: 0.2
          height_shift_range: 0.2
          horizontal_flip: true
          vertical_flip: false
          zoom_range: 0.2
          fill_mode: nearest
    outs:
    - path: data/features
      hash: md5
      md5: 6ea9b035096387d99645d6c9be4c6d50.dir
      size: 559
      nfiles: 3
  model_building:
    cmd: python -m src.model.model_building
    deps:
    - path: data/processed
      hash: md5
      md5: 5c0913be4e9012dab5e51a60d77254c4.dir
      size: 3932240768
      nfiles: 6
    - path: src/model/model_building.py
      hash: md5
      md5: dd3b12c26eb6f1af251594731a264cb7
      size: 16744
    params:
      params.yaml:
        model.architecture: XceptionTransfer
        model.input_shape:
        - 128
        - 128
        - 3
        training:
          epochs: 30
          batch_size: 32
          learning_rate: 0.0001
          early_stopping_patience: 7
    outs:
    - path: models
      hash: md5
      md5: de0652f32c82728597d1548519c33d87.dir
      size: 965430925
      nfiles: 12
  model_evaluation:
    cmd: python -m src.model.model_evaluation
    deps:
    - path: data/processed
      hash: md5
      md5: 5c0913be4e9012dab5e51a60d77254c4.dir
      size: 3932240768
      nfiles: 6
    - path: models
      hash: md5
      md5: de0652f32c82728597d1548519c33d87.dir
      size: 965430925
      nfiles: 12
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 0da0544b67312804b36352aee08afcfb
      size: 14393
    outs:
    - path: reports/experiment_info.json
      hash: md5
      md5: 67f24486ae7d72b2beb78496593278ec
      size: 526
    - path: reports/figures
      hash: md5
      md5: ae9ea1c033522fdaf8229a39bfb0b599.dir
      size: 1011322
      nfiles: 18
    - path: reports/metrics.json
      hash: md5
      md5: 79a11c0c4647dbe915ed22fd48ac0f4b
      size: 151
  model_registration:
    cmd: python -m src.model.register_model
    deps:
    - path: models
      hash: md5
      md5: de0652f32c82728597d1548519c33d87.dir
      size: 965430925
      nfiles: 12
    - path: reports/experiment_info.json
      hash: md5
      md5: 67f24486ae7d72b2beb78496593278ec
      size: 526
    - path: src/model/register_model.py
      hash: md5
      md5: c0b8e4fd31cbcab9bd4ec1078a57ae36
      size: 14866
    params:
      params.yaml:
        mlflow:
          dagshub_username: pythonharsh1234
          dagshub_repo: DeepGuard-MLOps-Pipeline
          experiment_name: DeepGuard-Model-Training
          registered_model_name: DeepGuard-Classifier
